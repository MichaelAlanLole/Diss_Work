import{c as Z,l as J,A as X,m as O,n as Y,D as ee,G as te,V as M,E as S,o as se,L as ne,e as oe,j as A,p as ae}from"./CSS2DRenderer-CMLneB3r.js";const{scene:r,camera:b,renderer:B}=Z();B.shadowMap.enabled=!0;B.shadowMap.type=J;b.position.set(4,3.5,-1.3);b.lookAt(-1.3,0,-1.3);const q=new X;b.add(q);const E=new O(q),z=new Y;z.load("Assets/sounds/CarNoises.mp3",e=>{E.setBuffer(e),E.setLoop(!0),E.setVolume(.6)});let k=null;z.load("Assets/sounds/CarDriving.mp3",e=>{k=e});function re(){if(!k)return;const e=new O(q);e.setBuffer(k),e.setLoop(!1),e.setVolume(3),e.play()}const o=new ee(16777215,1);o.target.position.set(0,0,0);o.position.set(-4,15,-10);o.castShadow=!0;o.shadow.mapSize.set(4096,4096);o.shadow.radius=4;o.shadow.bias=-5e-4;const P=8;o.shadow.camera.left=-P;o.shadow.camera.right=P;o.shadow.camera.top=P;o.shadow.camera.bottom=-P;o.shadow.camera.near=1;o.shadow.camera.far=30;r.add(o);r.add(o.target);const U=new te,ie=new ae,T=[],Q=[];U.load("Assets/models/city.glb",e=>{const t=e.scene;t.traverse(s=>{s.isMesh&&(s.receiveShadow=!0,s.castShadow=!0)}),r.add(t)},e=>{console.log(`${e.loaded/e.total*100}% loaded`)},e=>{console.error("An error occurred while loading the model:",e)});const ce=[new M(-1.6,-.13,-3),new M(-.5,-.13,.4),new M(.6,-.13,-1.8),new M(-2.8,-.13,-.7)],de=["Assets/models/Cars/car.glb","Assets/models/Cars/car2.glb","Assets/models/Cars/car3.glb","Assets/models/Cars/car4.glb"],le=[new S(0,0,0),new S(0,Math.PI,0),new S(0,-Math.PI/2,0),new S(0,Math.PI/2,0)];de.forEach((e,t)=>{U.load(e,s=>{const a=s.scene;a.traverse(u=>{u.isMesh&&(u.castShadow=!0,u.receiveShadow=!0)}),a.position.copy(ce[t]),a.rotation.copy(le[t]),r.add(a);const h=new se(a);T[t]=h;const n=[];s.animations.forEach(u=>{const v=h.clipAction(u);v.setLoop(ne,0),v.clampWhenFinished=!0,n.push(v)}),Q[t]=n},s=>console.log(`${Math.round(s.loaded/s.total*100)} % ${e}`),s=>console.error(`Error loading ${e}:, err`))});let w,f;const C=document.getElementById("question"),x=new oe;x.setSize(window.innerWidth,window.innerHeight);x.domElement.style.position="absolute";x.domElement.style.top="0px";x.domElement.style.pointerEvents="none";document.body.appendChild(x.domElement);const y=document.createElement("button");y.id="start-button";y.className="strt-btn";y.textContent="Start";C.appendChild(y);const i=document.createElement("button");i.className="answr-btn hidden";i.classList.add("answr");const W=document.createElement("div");W.style.pointerEvents="auto";W.appendChild(i);const $=new A(W);r.add($);const c=document.createElement("button");c.className="answr-btn hidden";c.classList.add("answr");const D=document.createElement("div");D.style.pointerEvents="auto";D.appendChild(c);const R=new A(D);r.add(R);const d=document.createElement("button");d.className="answr-btn hidden";d.classList.add("answr");const N=document.createElement("div");N.style.pointerEvents="auto";N.appendChild(d);const G=new A(N);r.add(G);const l=document.createElement("button");l.className="answr-btn hidden";l.classList.add("answr");const I=document.createElement("div");I.style.pointerEvents="auto";I.appendChild(l);const K=new A(I);r.add(K);const p=document.createElement("div");p.id="explanation-box";p.classList.add("hidden");C.parentElement.appendChild(p);const L=document.createElement("button"),m=document.createElement("div");m.appendChild(L);m.classList.add("next-container");L.classList.add("next");L.textContent="Next";C.parentElement.appendChild(m);const g=document.createElement("button");g.id="restart-button";g.classList.add("next","hidden");g.textContent="Restart";m.appendChild(g);g.addEventListener("click",()=>{pe()});$.position.set(-1.6,1,-3);R.position.set(-.5,1,.4);G.position.set(.6,1,-1.8);K.position.set(-2.8,1,-.7);y.addEventListener("click",he);i.addEventListener("click",F);c.addEventListener("click",F);d.addEventListener("click",F);l.addEventListener("click",F);L.addEventListener("click",()=>{f++,j()});function he(){q.context.resume().then(()=>{E.isPlaying||E.play()}),y.classList.add("hidden"),i.classList.remove("hidden"),c.classList.remove("hidden"),d.classList.remove("hidden"),l.classList.remove("hidden"),w=V.sort(()=>Math.random()-.5),f=0,j()}function ue(e){const t=Q[e],s=T[e];if(!t||!s)return;s.removeEventListener("finished",s._allDoneListener??(()=>{}));let a=0;const h=t.length,n=u=>{t.includes(u.action)&&(a++,a===h&&(s.removeEventListener("finished",n),t.forEach(v=>v.stop()),s.setTime(0)))};s.addEventListener("finished",n),s._allDoneListener=n,t.forEach(u=>u.reset().play())}function me(e){ue(e)}function j(){if(p.classList.add("hidden"),p.textContent="",[i,c,d,l].forEach(e=>{e.disabled=!1,e.classList.remove("correct","wrong")}),f>=w.length){console.log("Quiz finished!"),C.innerText="All questions completed!",m.classList.remove("show"),L.classList.add("hidden"),g.classList.remove("hidden"),m.classList.add("show");return}H(w[f]),m.classList.remove("show")}function pe(){p.classList.add("hidden"),p.textContent="",m.classList.remove("show"),g.classList.add("hidden"),L.classList.add("hidden"),w=V.sort(()=>Math.random()-.5),f=0,x.domElement.style.pointerEvents="none",[i,c,d,l].forEach(t=>{t.classList.remove("correct","wrong"),t.disabled=!1,t.classList.remove("hidden")}),H(w[0])}function H(e){const t=f+1;w.length,C.innerText=`Question ${t}: ${e.question}`,[i,c,d,l].forEach((a,h)=>{const n=e.answers[h];a.classList.remove("correct","wrong"),n&&(a.textContent=n.text,a.dataset.correct=n.correct)})}function F(e){const t=e.target,s=[i,c,d,l].indexOf(t);if(t.dataset.correct==="true"){me(s),t.classList.add("correct");const h=w[f];re(),p.innerHTML=`
      <strong>Answer:</strong>
      ${h.answers.find(n=>n.correct).text}<br>
      ${h.explanation}
    `,p.classList.remove("hidden"),m.classList.add("show"),[i,c,d,l].forEach(n=>n.disabled=!0)}else t.classList.add("wrong"),t.disabled=!0}const V=[{question:"What percentage of the UK's total nitrogen oxide (NOx) emissions in 2022 was attributed to the transport sector?",answers:[{text:"22%",correct:!1},{text:"36%",correct:!1},{text:"71%",correct:!1},{text:"49%",correct:!0}],explanation:"Absolutely right! That number is surprisingly high, but would you believe it has actually dropped by 78% since 1990? This impressive decline is thanks to significant advancements in motor vehicle development."},{question:"In 2022, what percentage of the UK's total PM2.5 (particulate matter) pollution was attributed to the transport sector?",answers:[{text:"12%",correct:!1},{text:"19%",correct:!1},{text:"22%",correct:!0},{text:"31%",correct:!1}],explanation:"Exactly! It’s incredible, despite how harmful Particulate Matter is to breathe in, its levels have dropped by 72% since 1990. Thank goodness for that progress!"},{question:"Which transport-related pollutant poses the greatest risk to human health?",answers:[{text:"PM2.5",correct:!0},{text:"PM10",correct:!1},{text:"Nitrogen Oxides",correct:!1},{text:"Carbon Dioxide",correct:!1}],explanation:"Correct! PM2.5 is considered the most hazardous because of the variety of harmful chemicals it can carry and its incredibly small size, which allows it to penetrate deep into the tiny crevices of our lungs."},{question:"Which country has the highest number of vehicles per person, with 1,606 vehicles per 1,000 people?",answers:[{text:"China",correct:!1},{text:"United States",correct:!1},{text:"New Zealand",correct:!1},{text:"San Marino",correct:!0}],explanation:"Spot on! Because of San Marino’s small size, it actually has more cars than people! Interestingly, New Zealand ranks 9th and the United States comes in at 11th."},{question:"Which of the following are symptoms or health effects caused by nitrogen oxide (NOx) pollution?",answers:[{text:"Lung Disease",correct:!0},{text:"Damage Crops",correct:!0},{text:"Smog",correct:!0},{text:"Change Soil Chemistry",correct:!0}],explanation:"Correct! Actually all of these are symptoms of Nitrogen Oxide (NOx)."},{question:"Which of the following are symptoms or health effects associated with PM2.5 and PM10 (particulate matter) pollution?",answers:[{text:"Worsening Medical Conditions",correct:!0},{text:"Lung Cancer",correct:!0},{text:"Chronic Bronchitis",correct:!0},{text:"Reduced Lung Function",correct:!0}],explanation:"Absolutely right! In fact, all of these are symptoms associated with exposure to both PM2.5 and PM10!"},{question:"What is the difference between PM2.5 and PM10 (Particulate Matter)?",answers:[{text:"Size",correct:!0},{text:"Health Effects",correct:!1},{text:"How they are Produced",correct:!1},{text:"Colour",correct:!1}],explanation:"Well done! Interestingly, even though they contain the same chemicals. The size difference between the two makes PM2.5 much more deadly!"},{question:"What was the largest contributor to greenhouse gas emissions in the UK in 2021?",answers:[{text:"Factories",correct:!1},{text:"Transport",correct:!0},{text:"Fossil Fuel Power Plants",correct:!1},{text:"Agriculture",correct:!1}],explanation:"Great job! While this isn’t a historic high, it was still 10% higher than the previous year, 2020."},{question:"What percentage of the UK’s total greenhouse gas emissions in 2021 came from the transport sector?",answers:[{text:"31%",correct:!1},{text:"17%",correct:!1},{text:"5%",correct:!1},{text:"26%",correct:!0}],explanation:"Correct! A quarter of our greenhouse gas emissions each year come from transportation alone!"},{question:"Which country had the worst air quality in the world according to the 2023 World Air Quality Report?",answers:[{text:"China",correct:!1},{text:"Bangladesh",correct:!0},{text:"France",correct:!1},{text:"Indonesia",correct:!1}],explanation:"Spot on! Areas that are poorer and more densely populated often experience significantly worse air quality."},{question:"Which country has released the most greenhouse gases into the atmosphere to date?",answers:[{text:"India",correct:!1},{text:"UK",correct:!1},{text:"Russia",correct:!1},{text:"United States",correct:!0}],explanation:"Great job! Surprisingly, the United States is responsible for the highest emissions, followed by China in second place and Russia in third."}];function _(){requestAnimationFrame(_);const e=ie.getDelta();T.forEach(t=>t.update(e)),B.render(r,b),x.render(r,b)}_();
